on: [ pull_request ]

name: ChatGPT CodeReview


jobs:
  chatgpt_comment:
    runs-on: self-hosted
    name: Let chatgpt comment on your PR.
    steps:
      - name: Create annotation for build error
        run: echo "token crap $SESSION_TOKEN  $crap"
      - name: ChatGPT comment
        uses: kxxt/chatgpt-action@v0.3
        id: chatgpt
        with:
          number: ${{ github.event.pull_request.number }}
          sessionToken: ${{ secrets.CHATGPT_SESSION_TOKEN }}
          split: 'yolo'  # Use true to enable the unstable split feature.
        env:
          SESSION_TOKEN: "eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..LflBEnF1rrl28Q2Y.-QxMGznZak_9QIHF_bhPOTLq61yPEGWWsr5smqsOUCfyk-xtoOTsD802rTWwIr4rfo2-yYMvhMNc7GfKHTH28na8oRgYJ-otaWyafe69hpJMmL9AR1sQbjhjxa9ujX_bh6oCxSN8fpSbsYKqPmkq9yXzArkkYhll_tAgPnWsXpXWVAnnc0hg269UQkVtf8h8A_Dd9KtEAouT8Ym9L_d8CzSmV_9IIofKigDUr6TJrvGoWpvM2c3dXxSQW-vRBhjK5hPMHcYNM5SSchuZGGpzfNRt5a0IoW1fdWQOttFhfKVU67gHnNW67drJE8WdHgpu8MNtU1nzGnRLJ9MgFeexZG61ZK-0EuJx1tXopcRC_ryzaQi4JXhsytYDpxoCOTfkvukxlHtEsLvc-cZIiKzzHQxcF5uS8DbclHUmHaVPNxtuVwmeo-WgA2zDZtmu2HE570HuOKUi1As1J2c5X1nAMvEFlM4h7zefu-6KEnOjkFYoj-RJ-UJf-auaDV-T4qaPwAhKzbBjE0Oz8TC4QFr2aGExcm5cBK9LgZ3uSqm27WX5kTxjrXfZaC9W4uW1jtj2FsKSI8uJnSvLTRStQh6BdbOODmbf6vBgQTCTvhZX9Yr6jxw3UeMIQ44t6q56kxY7tRa80oRuiuUFMSWRblODI-U5I4mKsyiV_0B22JahucwAHlSpMdLHaNlMQh_Awd9XK4bkqlIsAaFKRHipkKPqKxHrmM-kosTnBlCqpou_SJgjLS1KBCpwdbvTeLFwMf5fG5_6uEKpZe_MvTA9uLsPd7luG5Z3VzfKXN42iZVj_TzUpc19hClxH3MovKgiCdSsX7H4BfO_nMR4Uweb21zwugQ2v-uMO7dTx8fbvnO-_b6Qj9NVMEhW7GKFrcCP2Pbjyi5wyqxW0H9PPkUQFaIwqqva0dpLVXxaQg6p0PYEpw1Qrl7AZ5aMoszPdSlj0P5aUoZc4K32ug0qT56gCJH14iSkqaEaDc3O87Rp3I7yiP3u6zqNCkPzSaxrtAQ0822S2BzS0uFwYuiNVAfjMzjHwuygWG-FDISqqLAr5orcPQV1LVhxRVHhAYPyNkz5WyNTJ0rgoc6u_F68CtK2fo7lXtMpkG_CdK_Echx0EulWFJhWKMT5ydkPpjeCWEXxDBtoSMsI_Jd14yvHE1JRlZDix9ZFMIiubSi-OGmFqjm8KXhTHlIHZwavbMDOCTIerdmv_l3s1Nedd-Nojn9auljTcU2VUYOD1tTItoE4SD-yiFUPEoJRVPfZdmUfS4RF92Q_9Y4wvy7X8SvmLT8F16h_mFHlrqIQ71f29YHfMlTBDjO7Axx76xcdlDJmoAUB8XDXfhb3X-nsm8lrCbq49aysZSAbHOJesBZV8Kx8LQaWSVnvpGM6efRVzYOXeF753-Ne7tvjbMyvqCFYt5nHf6e6u-DqsPO-Du72hApXkVzpRp92miYaMFE2a7FDfoK2zlpguRDoStY_Lf4M8Ia3jBRXqVwOb5LJ4inC4_J7MrGRPTi9qHiHh8CCLk6orG0Rl1GjWW6oQkTVSETBsFgNNOpNNHhG2PWejhyjrPuf6f2fhJ9NetMKi3JT7Hs9vTkigP2M1zqNoWspKvN0d7YIe-YTF_t_a2WJLmwqPi6i2UK-h_Nb_qdl2XeJurIhqSfES94hvcsCH-C_KvQ1ZRLpWdD6dPfgtNVupiL8RGm2wG3PUsKt60zQ2tIvVRJqP8tAwO2vi-D93tP7utZD1CdOFzqJt_wVItclB1H9-3qFiJCl05zuD59WAVTXF7VvJ2sBRv9n5-VdAr2Qpb7DQb188rceXSpmhrOTtaiPBtpcqSnP8FUBslwFn_dyFTuPVpFLqeuN-8YU1jayGmRl2dE332LsruuVpYJqQfHV2WUyt19QTCVs5IuVwtZqqTmdEETZCz8YUAORRAw4vRCauEb5Twq8hH64Mbwvsy7eHztbQ7zta3W3Eo3bcmjWJMB_2TV2d9iF8zNlt1NOiEA1QD6KJKAwy6kOo25QQz6n6gyheBwjQCSsrFGAo2DLXT6UO09j5ESHsQP8Sl40Sod3jwCNZfJSgcvyKD4fCptWtfy9Q2Vo18LXLUrBhYQXLYnO_dOphXLBhYxtQAhP394hZbybpZLoIBSvOsyvb5Q0I_9BWlW8NoHdQ6zFIBcralXVGye3VKgzL7cOpu7FtXiDm1T3-KX8vO13ZgqUYJuaLAHU2aU_mw3OIYzT8Y-OpWrJpuakkj5jBAT8YlaoJi5Hn7HXeUXsD75D23Y6xqbAA5dWg8c82ZD0v979PA3zof3DW2Pp89MZrrHsCGFn0b-sa3nL0add6B-SgUcoDzDe0SLLPz5s1iN3bfTpxHvk2A_yUpEKJWZpfCVqiLHkTmw4_Fvr9eiWvaAlricG-_23Iafmy4FKjeZLuobqgx9uYyX0wBrr7YRe1Edn-1gGI3m40heD08nE6hDEcmj4TEXXUeCgksDMEcw_W-d4aj9MUKaeBHnfvwNfAp2mjZvXE9NGjB4stVadw6IFrkGEmN-dLHn6ih0LRReVzHhOk62RLBaGPlcL01jhEw7Z4prWQjMT_PLPjAs9FgXeP7EBBKLXjUzYuPSxTpxxzwE7puI8yWvPTWftpI0xzruxolw0jtGsrDB2n76p71Kaxg1bFAM.xdvZGRlrFx-HlQh8DBuLGQ"
          CRAP: 1
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
